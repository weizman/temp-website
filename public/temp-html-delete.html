<script>
  const tops = [];

  onmessage = (a) => {
    if (window === top) return;
    if (!a.isTrusted) return;
    if (a.source !== top) return;
    if (tops.includes(a.source)) return;
    tops.push(a.source);
    if (!localStorage[a.origin]) {
        localStorage[a.origin] = 'SOME_RAND';
    }
    a.source.postMessage({key_pls: localStorage[a.origin]}, a.origin);
  }
</script>
